<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Local_Functions">Local Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/MPConfig.html">MPConfig</a></li>
  <li><strong>MPCoreNetwork</strong></li>
  <li><a href="../modules/MPDebug.html">MPDebug</a></li>
  <li><a href="../modules/MPElectricsGE.html">MPElectricsGE</a></li>
  <li><a href="../modules/MPGameNetwork.html">MPGameNetwork</a></li>
  <li><a href="../modules/MPHelpers.html">MPHelpers</a></li>
  <li><a href="../modules/MPInputsGE.html">MPInputsGE</a></li>
  <li><a href="../modules/MPModManager.html">MPModManager</a></li>
  <li><a href="../modules/MPPowertrainGE.html">MPPowertrainGE</a></li>
  <li><a href="../modules/MPUpdatesGE.html">MPUpdatesGE</a></li>
  <li><a href="../modules/MPVehicleGE.html">MPVehicleGE</a></li>
  <li><a href="../modules/UI.html">UI</a></li>
  <li><a href="../modules/ge.extensions.core.cameraModes.passenger.html">ge.extensions.core.cameraModes.passenger</a></li>
  <li><a href="../modules/multiplayer_multiplayer.html">multiplayer_multiplayer</a></li>
  <li><a href="../modules/multiplayer_ui_chat.html">multiplayer_ui_chat</a></li>
  <li><a href="../modules/multiplayer_ui_options.html">multiplayer_ui_options</a></li>
  <li><a href="../modules/multiplayer_ui_playerList.html">multiplayer_ui_playerList</a></li>
  <li><a href="../modules/multiplayer_ui_utils.html">multiplayer_ui_utils</a></li>
  <li><a href="../modules/nodesGE.html">nodesGE</a></li>
  <li><a href="../modules/positionGE.html">positionGE</a></li>
  <li><a href="../modules/vehicle.controller.playerController.html">vehicle.controller.playerController</a></li>
  <li><a href="../modules/vehicle.extensions.BeamMP.MPVehicleVE.html">vehicle.extensions.BeamMP.MPVehicleVE</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>MPCoreNetwork</code></h1>
<p>MPCoreNetwork API.</p>
<p>
 Author of this documentation is Titch</p>
    <h3>Usage:</h3>
    <ul>
        <li><pre class="example">connectToLauncher(false) -- internal access
</pre></li>
        <li><pre class="example">MPCoreNetwork.connectToLauncher(false) -- external access
</pre></li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#onLauncherConnected">onLauncherConnected ()</a></td>
	<td class="summary">This function/event is triggered internally upon connection to the launcher.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#runPostJoin">runPostJoin ()</a></td>
	<td class="summary">This function/event is triggered internally upon the joining on a map and starts the UDP aspect of the session.</td>
	</tr>
</table>
<h2><a href="#Local_Functions">Local Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#send">send (s)</a></td>
	<td class="summary">Sends data through a TCP socket or IPC to the launcher depending on if the launcher is V2 or V2.1 Networking.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#connectToLauncher">connectToLauncher (silent)</a></td>
	<td class="summary">Connects to the Launcher.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isLoggedIn">isLoggedIn ()</a></td>
	<td class="summary">Returns true or false if the user is logged in.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isLauncherConnected">isLauncherConnected ()</a></td>
	<td class="summary">Returns true or false if the launcher is connected.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#login">login (identifiers)</a></td>
	<td class="summary">Logs in the user with the given identifiers by sending the request to the launcher</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#autoLogin">autoLogin ()</a></td>
	<td class="summary">Automatically logs in the user.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#logout">logout ()</a></td>
	<td class="summary">Tells the launcher to log out the user.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#sendBeamMPInfo">sendBeamMPInfo ()</a></td>
	<td class="summary">Sends the current player and server count plus the mod and launcher version to the CEF UI.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#requestServerList">requestServerList ()</a></td>
	<td class="summary">Request the server list data from the launcher.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#requestPlayers">requestPlayers ()</a></td>
	<td class="summary">Request the UI counts and other metrics by calling `sendBeamMPInfo()`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getCurrentServer">getCurrentServer ()</a></td>
	<td class="summary">Returns the current server information</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setCurrentServer">setCurrentServer (ip, port, name)</a></td>
	<td class="summary">Set the current server information for later use</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#loadLevel">loadLevel (map)</a></td>
	<td class="summary">Load the desired map/level by name.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#loginReceived">loginReceived (params)</a></td>
	<td class="summary">Handles the login result received from the launcher.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#leaveServer">leaveServer (goBack)</a></td>
	<td class="summary">Leaves the server and performs necessary cleanup.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isMPSession">isMPSession ()</a></td>
	<td class="summary">Returns if the current session is a multiplayer session / if we expect to be in one.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isGoingMPSession">isGoingMPSession ()</a></td>
	<td class="summary">Returns if the game is currently transitioning to a multiplayer session.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#requestMap">requestMap ()</a></td>
	<td class="summary">Requests the map from the launcher</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#handleU">handleU (params)</a></td>
	<td class="summary">Handles the update of the loading UI and performs necessary actions based on the received parameters.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#promptAutoJoin">promptAutoJoin (params)</a></td>
	<td class="summary">Prompts the user for auto join confirmation.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUpdate">onUpdate (dt)</a></td>
	<td class="summary">onUpdate is a game eventloop function.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onClientStartMission">onClientStartMission ()</a></td>
	<td class="summary">Executes when the client starts a mission (map) in for a multiplayer session.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onClientEndMission">onClientEndMission (mission)</a></td>
	<td class="summary">Executes when the user or mod ends a mission/session (map) .</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onUiChangedState">onUiChangedState (curUIState, prevUIState)</a></td>
	<td class="summary">Executes when the UI state changes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onSerialize">onSerialize ()</a></td>
	<td class="summary">Serializes data for saving to be loaded on lua reload.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onDeserialized">onDeserialized (data)</a></td>
	<td class="summary">Deserializes data after loading lua state.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#onExtensionLoaded">onExtensionLoaded ()</a></td>
	<td class="summary">Triggered by BeamNG when the lua mod is loaded by the modmanager system.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "onLauncherConnected"></a>
    <strong>onLauncherConnected ()</strong>
    </dt>
    <dd>
    This function/event is triggered internally upon connection to the launcher.







</dd>
    <dt>
    <a name = "runPostJoin"></a>
    <strong>runPostJoin ()</strong>
    </dt>
    <dd>
    This function/event is triggered internally upon the joining on a map and starts the UDP aspect of the session.







</dd>
</dl>
    <h2 class="section-header "><a name="Local_Functions"></a>Local Functions</h2>

    <dl class="function">
    <dt>
    <a name = "send"></a>
    <strong>send (s)</strong>
    </dt>
    <dd>
    Sends data through a TCP socket or IPC to the launcher depending on if the launcher is V2 or V2.1 Networking.
 If V2.1 Networking is available, it will be used, otherwise V2 Networking will be used.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">s</span>
         string containing the data to send to the launcher
        </li>
    </ul>





</dd>
    <dt>
    <a name = "connectToLauncher"></a>
    <strong>connectToLauncher (silent)</strong>
    </dt>
    <dd>
    Connects to the Launcher.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">silent</span>
         boolean determines if the connection request should be done silently
        </li>
    </ul>





</dd>
    <dt>
    <a name = "isLoggedIn"></a>
    <strong>isLoggedIn ()</strong>
    </dt>
    <dd>
    Returns true or false if the user is logged in.



    <h3>Returns:</h3>
    <ol>

        boolean loggedIn True if the user is logged in, false otherwise.
    </ol>




</dd>
    <dt>
    <a name = "isLauncherConnected"></a>
    <strong>isLauncherConnected ()</strong>
    </dt>
    <dd>
    Returns true or false if the launcher is connected.



    <h3>Returns:</h3>
    <ol>

        boolean launcherConnected True if the launcher is connected, false otherwise.
    </ol>




</dd>
    <dt>
    <a name = "login"></a>
    <strong>login (identifiers)</strong>
    </dt>
    <dd>
    Logs in the user with the given identifiers by sending the request to the launcher


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">identifiers</span>
         table The identifiers used for login.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "autoLogin"></a>
    <strong>autoLogin ()</strong>
    </dt>
    <dd>
    Automatically logs in the user.






    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="function-name">autoLogin</span>() <span class="comment">-- Tells the launcher to attempt to auto authenticate with BeamMP Services</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "logout"></a>
    <strong>logout ()</strong>
    </dt>
    <dd>
    Tells the launcher to log out the user.






    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="function-name">logout</span>() <span class="comment">-- Tells the launcher to logout from BeamMP Services</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "sendBeamMPInfo"></a>
    <strong>sendBeamMPInfo ()</strong>
    </dt>
    <dd>
    Sends the current player and server count plus the mod and launcher version to the CEF UI.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">sendBeamMPInfo</span>()</pre>
    </ul>

</dd>
    <dt>
    <a name = "requestServerList"></a>
    <strong>requestServerList ()</strong>
    </dt>
    <dd>
    Request the server list data from the launcher.






    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">requestServerList</span>()</pre>
    </ul>

</dd>
    <dt>
    <a name = "requestPlayers"></a>
    <strong>requestPlayers ()</strong>
    </dt>
    <dd>
    Request the UI counts and other metrics by calling `sendBeamMPInfo()`





    <h3>See also:</h3>
    <ul>
         <a href="../modules/MPCoreNetwork.html#sendBeamMPInfo">sendBeamMPInfo</a>
    </ul>

    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="backtick">`MPCoreNetwork.requestPlayers()`</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "getCurrentServer"></a>
    <strong>getCurrentServer ()</strong>
    </dt>
    <dd>
    Returns the current server information



    <h3>Returns:</h3>
    <ol>

        currentServer table
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">getCurrentServer</span>()</pre>
    </ul>

</dd>
    <dt>
    <a name = "setCurrentServer"></a>
    <strong>setCurrentServer (ip, port, name)</strong>
    </dt>
    <dd>
    Set the current server information for later use


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ip</span>
         string The IP/URL of the server
        </li>
        <li><span class="parameter">port</span>
         number The Port of the server
        </li>
        <li><span class="parameter">name</span>
         string The Name of the server (Used at the top of the screen when in session)
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">setCurrentServer</span>(<span class="string">'localhost'</span>, <span class="number">30814</span>, <span class="string">'Test Server'</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "loadLevel"></a>
    <strong>loadLevel (map)</strong>
    </dt>
    <dd>
    Load the desired map/level by name.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">map</span>
         string The Map String
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">loadLevel</span>(<span class="string">'/levels/gridmap_v2/info.json'</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "loginReceived"></a>
    <strong>loginReceived (params)</strong>
    </dt>
    <dd>
    Handles the login result received from the launcher.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
         string The JSON-encoded login results.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "leaveServer"></a>
    <strong>leaveServer (goBack)</strong>
    </dt>
    <dd>
    Leaves the server and performs necessary cleanup.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">goBack</span>
         boolean Whether to go back to the previous screen after leaving the server.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">leaveServer</span>(<span class="keyword">true</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "isMPSession"></a>
    <strong>isMPSession ()</strong>
    </dt>
    <dd>
    Returns if the current session is a multiplayer session / if we expect to be in one.



    <h3>Returns:</h3>
    <ol>

        boolean isMpSession True if it is a multiplayer session, false otherwise.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> MPCoreNetwork.<span class="function-name">isMPSession</span>() <span class="keyword">then</span> <span class="backtick">`code`</span> <span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "isGoingMPSession"></a>
    <strong>isGoingMPSession ()</strong>
    </dt>
    <dd>
    Returns if the game is currently transitioning to a multiplayer session.



    <h3>Returns:</h3>
    <ol>

        boolean isGoingMpSession True if transitioning to a multiplayer session, false otherwise.
    </ol>



    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">if</span> MPCoreNetwork.<span class="function-name">isGoingMPSession</span>() <span class="keyword">then</span> <span class="backtick">`code`</span> <span class="keyword">end</span></pre>
    </ul>

</dd>
    <dt>
    <a name = "requestMap"></a>
    <strong>requestMap ()</strong>
    </dt>
    <dd>
    Requests the map from the launcher






    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">requestMap</span>()</pre>
    </ul>

</dd>
    <dt>
    <a name = "handleU"></a>
    <strong>handleU (params)</strong>
    </dt>
    <dd>
    Handles the update of the loading UI and performs necessary actions based on the received parameters.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
         string The parameters received for updating the loading UI.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">handleU</span>(<span class="string">'lstart'</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "promptAutoJoin"></a>
    <strong>promptAutoJoin (params)</strong>
    </dt>
    <dd>
    Prompts the user for auto join confirmation.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
         string The parameters received for auto join confirmation.
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example">MPCoreNetwork.<span class="function-name">promptAutoJoin</span>(<span class="backtick">`...`</span>)</pre>
    </ul>

</dd>
    <dt>
    <a name = "onUpdate"></a>
    <strong>onUpdate (dt)</strong>
    </dt>
    <dd>
    onUpdate is a game eventloop function.  It is called each frame by the game engine.
 This is the main processing thread of BeamMP in the game


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">dt</span>
         float
        </li>
    </ul>





</dd>
    <dt>
    <a name = "onClientStartMission"></a>
    <strong>onClientStartMission ()</strong>
    </dt>
    <dd>
    Executes when the client starts a mission (map) in for a multiplayer session.







</dd>
    <dt>
    <a name = "onClientEndMission"></a>
    <strong>onClientEndMission (mission)</strong>
    </dt>
    <dd>
    Executes when the user or mod ends a mission/session (map) .


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mission</span>
         table The mission object.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "onUiChangedState"></a>
    <strong>onUiChangedState (curUIState, prevUIState)</strong>
    </dt>
    <dd>
    Executes when the UI state changes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">curUIState</span>
         string The current UI state.
        </li>
        <li><span class="parameter">prevUIState</span>
         string The previous UI state.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "onSerialize"></a>
    <strong>onSerialize ()</strong>
    </dt>
    <dd>
    Serializes data for saving to be loaded on lua reload.  Allows for lua state memory persistence between reloads



    <h3>Returns:</h3>
    <ol>

        table The serialized data.
    </ol>




</dd>
    <dt>
    <a name = "onDeserialized"></a>
    <strong>onDeserialized (data)</strong>
    </dt>
    <dd>
    Deserializes data after loading lua state.  Allows for lua state memory persistence between reloads


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">data</span>
         table The deserialized data.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "onExtensionLoaded"></a>
    <strong>onExtensionLoaded ()</strong>
    </dt>
    <dd>
    Triggered by BeamNG when the lua mod is loaded by the modmanager system.
 We use this to load our UI info and connect to the launcher







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2023-11-07 14:48:13 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
